{"version":3,"sources":["index.js"],"names":["combineX","_wrap","createCombinClass","_","require","cloneDeep","merge","uuid","uniqueId","prefix","isReactNative","empty","noop","isClient","window","context","C","global","process","__BUNDLE_START_TIME__","SAX","React","reactDom","ReactDOM","ReactDom","findDOMNode","render","renderToString","ctx","jsx","isFunction","target","componentMonuted","instanceCollection","didMount","opts","cb","queryer","that","props","itemDefaultMethod","call","intent","rendered","itemMethod","imd","roll","dom","unMount","name","unMountDestory","destory","leave","_ctx","store","sax","id","ComposedComponent","extension","Store","globalName","idf","saxer","on","hasOn","one","off","emit","append","data","originalState","state","temp","bind","plugins","Array","isArray","Object","keys","map","item","didUpdate","componentDidMount","refs","index","defaultProps","e","dealWithReactClass","CComponent","dealWithReactElement","Component","dispatcher","key","QueryCtx","liveState","oState","queryActions","curState","_tmp","setState","undefined","returnReactClass","type","isValidElement","browserRender","X","config","document","getElementById","nodeType","_rendered","elements","CombineClass","rctCls","acts","exts","gname","ext","unbind","prop","GridsBase","Actions","x","evt","func","hasMounted","dispatch","setTimeout","clearTimeout","timer","getState","keynames","lowKeyNames","toLowerCase","upKeyNames","ii","actName","param","length","appendActions","obj","lowCaseName","_ext","_name","container","_props","rended"],"mappings":"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","file":"../index.js","sourcesContent":["/**\n * React-combinex\n * 增强react的用法，贴近jquery的使用方式\n */\nconst _ = require('lodash')\nconst cloneDeep = _.cloneDeep\nconst merge = _.merge\nvar uuid = -1;\n\nfunction uniqueId(prefix) {\n  if (!prefix) prefix = 'random_'\n  uuid++\n  return prefix + uuid\n}\n\nlet isReactNative = false\nlet empty = false\nvar noop = function(){}\nvar isClient = typeof window !== 'undefined'\nvar context = ( C => C ? window : global)(isClient) || {}\nif (context.process) isClient = false\nif (context.__BUNDLE_START_TIME__) isReactNative = true\n\nconst SAX = ( ()=> typeof SAX != 'undefined' ? SAX : require('fkp-sax'))()\nconst React = (typeof React != 'undefined' ? React : require('react'))\n\nif (!isReactNative) {\n  var reactDom = ( C => typeof ReactDOM != 'undefined' ? ReactDOM : typeof ReactDom != 'undefined' ? ReactDom : C ? require('react-dom') : require('react-dom/server'))(isClient)\n  var findDOMNode = ( C => C ? reactDom.findDOMNode : function(){} )(isClient)\n  var render      = ( C => C ? reactDom.render : reactDom.renderToString)(isClient)\n} else {\n  var reactDom = noop\n  var findDOMNode = function(ctx){return ctx}\n  var render = function(jsx){return jsx}\n}\n\nif (!context.SAX) {\n  context.SAX = SAX\n}\n\nvar isFunction = function (target) { return typeof target == 'function' }\nlet componentMonuted = {}\nlet instanceCollection = {}\n\nfunction didMount(ctx, opts, cb, queryer) {\n  let that = findDOMNode(this)\n  if (typeof this.props.itemDefaultMethod == 'function') {\n    this.props.itemDefaultMethod.call(ctx, that, this.intent)\n  }\n\n  if (\n    typeof cb == 'function' ||\n    typeof opts.rendered == 'function' ||\n    typeof this.props.rendered == 'function' ||\n    typeof this.props.itemMethod == 'function'\n  ) {\n    let imd = isFunction(cb) ? cb : isFunction(opts.rendered) ? opts.rendered : (this.props.rendered || this.props.itemMethod)\n    if (!imd) imd = function () { }\n    imd.call(ctx, that, this.intent)\n  }\n\n  if (queryer) {\n    queryer.roll('rendered', {\n      dom: that,\n      opts: opts,\n      ctx: ctx\n    })\n\n    queryer.roll('__rendered', {\n      dom: that,\n      opts: opts,\n      ctx: ctx\n    })\n  }\n}\n\nfunction unMount(opts = {}, props = {}, queryer) {\n  if (queryer) {\n    var name = queryer.name\n    if (props.unMountDestory) {\n      // queryer.off('__rendered')\n      // queryer.unbind()\n      // queryer.destory()\n      // // queryer = null\n      // SAX.destory(name)\n      instanceCollection[name].destory()\n      // delete instanceCollection[name]\n    }\n  }\n\n  if (typeof opts.leave == 'function') {\n    var _ctx = {}\n\n    if (name) _ctx.destory = function () {\n      instanceCollection[name].destory()\n    }\n\n    if (typeof opts.leave == 'function') {\n      opts.leave.call(_ctx)\n    }\n  }\n}\n\nconst store = (sax => {\n  try {\n    if (!sax) throw 'storehlc depend on SAX, SAX is fkp-sax, is a Global fun'\n    return (id, ComposedComponent, extension, opts, cb) => {\n      if (!id) throw 'storehlc id must be set'\n      class Store extends ComposedComponent {\n        constructor(props) {\n          super(props)\n          this.globalName = id\n          this.intent = this.props.intent || this.props.idf || 0;\n\n          // 初始化，组件没有渲染的状态\n          componentMonuted[this.globalName] = false\n\n          const queryer = sax(this.globalName)\n          this.saxer = queryer\n          this.on = queryer:: queryer.on\n          this.hasOn = queryer:: queryer.hasOn\n          this.one = queryer:: queryer.one\n          this.off = queryer:: queryer.off\n          this.emit = queryer:: queryer.emit\n          this.roll = queryer:: queryer.roll\n          this.append = queryer:: queryer.append\n          queryer.data.originalState\n            ? queryer.data.originalState[this.globalName] = cloneDeep(this.state)  // queryer.data.originalState[this.globalName] = cloneDeep(this.state)\n            : (() => {\n              let temp = {};\n              temp[this.globalName] = cloneDeep(this.state)  // temp[this.globalName] = cloneDeep(this.state)\n              queryer.data.originalState = temp\n            })()\n          sax.bind(this.globalName, this)\n\n          if (typeof extension == 'object') {\n            if (typeof extension.plugins == 'object' && !Array.isArray(extension.plugins)) {\n              const plugins = extension.plugins\n              Object.keys(extension.plugins).map(item => {\n                if (typeof plugins[item] == 'function') {\n                  this[item] = plugins[item]\n                }\n              })\n            }\n          }\n        }\n\n        componentWillUnmount() {\n          const queryer = sax(this.globalName)\n          componentMonuted[this.globalName] = false\n          super.componentWillUnmount ? super.componentWillUnmount() : ''\n          opts.leave = opts.leave || this.props.leave\n          unMount(opts, this.props, queryer)\n        }\n\n        componentDidUpdate() {\n          this.didUpdate = true\n          super.componentDidUpdate ? super.componentDidUpdate() : ''\n          this.componentDidMount()\n        }\n\n        componentDidMount() {\n          componentMonuted[this.globalName] = true\n\n          if (this.didUpdate = true) {\n            this.didUpdate = false\n          } else {\n            this.saxer.off('__rendered')\n          }\n          const _ctx = {\n            // state: this.saxer.data.originalState[globalName],\n            // dispatch: dispatcher,\n            refs: this.refs,\n            index: this.props.idf\n          }\n          super.componentDidMount ? super.componentDidMount() : ''\n          didMount.call(this, _ctx, opts, cb, this.saxer)\n        }\n      }\n\n      Store.defaultProps = {\n        unMountDestory: false\n      }\n\n      return Store\n    }\n  } catch (e) {\n    return ComposedComponent\n  }\n})(SAX)\n\nfunction dealWithReactClass(CComponent, opts = {}, cb, queryer) {\n  return class extends CComponent {\n    constructor(props) {\n      super(props)\n      this.intent = this.props.intent\n    }\n\n    componentWillUnmount() {\n      // opts.leave = opts.leave || this.props.leave\n      // unMount.call(this, opts, queryer)\n\n      opts.leave = opts.leave || this.props.leave\n      super.componentWillUnmount ? super.componentWillUnmount() : ''\n      unMount(opts, this.props, queryer)\n    }\n\n    componentDidMount() {\n      const _ctx = {\n        refs: this.refs,\n        index: this.props.idf\n      }\n      super.componentDidMount ? super.componentDidMount() : ''\n      didMount.call(this, _ctx, opts, cb, queryer)\n    }\n  }\n}\n\n/**\n * [dealWithReactElement 处理传入为react element 的场景，一般用于wrap]\n * @param  {react element} CComponent [description]\n * @return {react class}            [description]\n */\nfunction dealWithReactElement(CComponent, opts = {}, cb, queryer) {\n  return class extends React.Component {\n    constructor(props) {\n      super(props)\n      this.intent = this.props.intent\n    }\n\n    componentWillUnmount() {\n      // opts.leave = opts.leave || this.props.leave\n      // unMount.call(this, opts, queryer)\n\n      opts.leave = opts.leave || this.props.leave\n      unMount(opts, this.props, queryer)\n    }\n\n    componentDidMount() {\n      const _ctx = {}\n      super.componentDidMount ? super.componentDidMount() : ''\n      didMount.call(this, _ctx, opts, cb, queryer)\n    }\n\n    render() {\n      return CComponent\n    }\n  }\n}\n\n\n/**\n * type 2\n * ComposedComponent 为 React class\n * @type {[type]}\n */\nfunction dispatcher(key, props, QueryCtx, queryer, globalName) {\n  const ctx = queryer.store.ctx[globalName]\n  if (ctx) {\n    const liveState = cloneDeep(ctx.state)\n    // const liveState = ctx.state\n    const oState = queryer.data.originalState[globalName]\n    const queryActions = queryer.data\n    queryActions.curState = liveState\n    if (queryActions[key]) {\n      const _tmp = queryActions[key].call(queryActions, oState, props, QueryCtx)\n      if (_tmp) {\n        ctx.setState(_tmp)\n      }\n    }\n  }\n}\n\n\n/**\n * [combineX description]\n * @param  {react class | react element}   ComposedComponent [description]\n * @param  {object}   opts              [description]\n * @param  {Function} cb                [description]\n * @return {react class | object}       [description]\n */\nexport default function combineX(ComposedComponent, opts, cb) {\n  if (!ComposedComponent) return\n  if (typeof ComposedComponent == 'string' || Array.isArray(ComposedComponent)) return\n  let extension = cb\n  if (typeof opts == 'function') {\n    cb = opts\n    opts = undefined\n  }\n\n  // will return React class for type 2\n  let returnReactClass = false\n  if (typeof opts == 'object' && opts.type == 'reactClass') {\n    returnReactClass = true\n    delete opts.type\n  }\n\n  /**\n   * type 1\n   * ComposedComponent 为 React element\n   * @param  {[type]} React [description]\n   * @return [type]         [description]\n   */\n  if (React.isValidElement(ComposedComponent)) {\n    return dealWithReactElement(ComposedComponent, opts, cb)\n  }\n\n  if (returnReactClass) {\n    // const globalName = uniqueId('returnReactClass_')\n    return dealWithReactClass(\n      ComposedComponent,\n      opts,\n      cb\n    )\n  }\n  // else {\n  //   const globalName = uniqueId('Combinex_')\n  //   const queryer = SAX(globalName)\n  //   if (opts) { queryer.append(opts) }\n\n  //   return {\n  //     globalName,\n  //     queryer,\n  //     ComposedComponent,\n  //     extension,\n  //     opts,\n  //     cb\n  //   }\n  // }\n}\n\nexport function _wrap(ComposedComponent, opts, cb) {\n  opts = opts || { type: 'reactClass' }\n  if (isFunction(opts)) {\n    cb = opts\n    opts = { type: 'reactClass' }\n  }\n\n  if (typeof opts == 'object') {\n    opts.type = 'reactClass'\n  }\n\n  return combineX(ComposedComponent, opts, cb)\n}\n\n\n// CombineClass\nfunction browserRender(id, X, config) {\n  const props = config.props\n  if (typeof id == 'string') {\n    if (document.getElementById(id)) {\n      return render(<X {...props} />, document.getElementById(id))\n    }\n  }\n\n  else if (typeof id == 'object' && id.nodeType) {\n    return render(<X {...props} />, id)\n  }\n}\n\nfunction _rendered(ctx, cb) {\n  return function (dom, intent) {\n    ctx.elements = this.refs\n    cb(dom, intent)\n  }\n}\n\nexport class CombineClass {\n  // constructor(config) {\n  constructor(config={}, rctCls, acts, exts={}, gname) {\n    this.config = config\n    this.isClient = isClient\n    this.elements   // rendered方法中赋值，react class的componentDidMount之后将refs的内容赋值给该变量\n    this.leave  //unmounted 触发的方法\n\n    let ext = {}\n    const plugins = exts.plugins\n    if (plugins) {\n      Object.keys(plugins).map(item => {\n        if (typeof plugins[item] == 'function') {\n          ext[item] = plugins[item]\n        }\n      })\n    }\n    this.extension = { plugins: ext }\n\n    this.globalName = (function(){\n      return gname || uniqueId('Combinex_')\n    })()\n\n    // aotoo中下项是被释放的\n    // 下列做法主要为兼容PC端老版系统\n    // this.combinex(rctCls, acts) \n  }\n\n  destory() {\n    var queryer = this.saxer\n    var name = queryer.name\n    queryer.off('__rendered')\n    queryer.unbind()\n    queryer.destory()\n    SAX.destory(name)\n\n    for (let prop in this) {\n      if (prop != 'destory') {\n        delete this[prop]\n      }\n    }\n\n    delete instanceCollection[name]\n  }\n\n  combinex(GridsBase, Actions = {}) {\n    const that = this\n    const globalName = this.globalName\n    const queryer = SAX(globalName)\n    queryer.append(Actions)\n    this.x = store(globalName, GridsBase, this.extension, Actions)\n    this.globalName = globalName\n    this.saxer = queryer\n\n    this.on = (evt, opts, func) => {\n      queryer.on(evt, opts, func)\n      return this\n    }\n\n    this.hasOn = (evt, opts, func) => {\n      return queryer.hasOn(evt, opts, func)\n    }\n\n    this.one = (evt, opts, func) => {\n      queryer.one(evt, opts, func)\n      return this\n    }\n\n    this.off = (evt, opts, func) => {\n      queryer.off(evt, opts, func)\n      return this\n    }\n\n    this.roll = function (type, data) {\n      return queryer.roll(type, data)\n    }\n\n    this.emit = this.roll\n\n    this.hasMounted = function () {\n      const gname = globalName\n      return componentMonuted[gname]\n    }\n\n    this.dispatch = function (key, props, ctx) {\n      const that = this\n      const hasMounted = that.hasMounted()\n      this.saxer.off('__rendered')\n      if (hasMounted) {\n        setTimeout(function () {\n          dispatcher(key, props, that, that.saxer, that.globalName)\n        }, 0);\n      } else {\n        clearTimeout(that.timer)\n        this.saxer.on('__rendered', function () {\n          that.timer = setTimeout(function () {\n            clearTimeout(that.timer)\n            dispatcher(key, props, that, that.saxer, that.globalName)\n            that.saxer.off('__rendered')\n          }, 0);\n        })\n      }\n    }\n\n    this.getState = function () {\n      const ctx = this.saxer.store.ctx[this.globalName]\n      return ctx.state\n    }\n\n    let keynames = Object.keys(Actions)\n    const lowKeyNames = keynames.map(item => item.toLowerCase())\n    const upKeyNames = keynames\n\n    for (let ii = 0; ii < lowKeyNames.length; ii++) {\n      const actName = upKeyNames[ii]\n      this['$' + lowKeyNames[ii]] = function (param) {\n        this.dispatch(actName, param, this)\n        return this\n      }\n    }\n\n    this.appendActions = function (obj) {\n      this.saxer.append(obj)\n      Object.keys(obj).map(function (item) {\n        const lowCaseName = '$' + item.toLowerCase()\n        that[lowCaseName] = function (param) {\n          that.dispatch(item, param)\n        }\n      })\n      return this\n    }\n  }\n\n  extend(exts) {\n    if (typeof exts == 'object') {\n      Object.keys(exts).map(_name => {\n        const _ext = exts[_name]\n        this[_name] = exts[_name]\n      })\n    }\n  }\n\n  setConfig(config) {\n    this.config = config || {}\n    return this\n  }\n\n  setProps(props) {\n    this.config.props = props\n    return this\n  }\n\n  reRender() {\n    this.render()\n  }\n\n  render(id, cb) {\n    id = id || this.config.container\n    const X = this.x\n    let _props = this.props || this.config.props || {\n      unMountDestory: false,\n      leave: false\n    }\n\n    if (typeof id == 'function' || typeof cb == 'function') {\n      this.config.rendered = typeof id == 'function' ? id : cb\n    }\n    if (typeof this.config.rendered == 'function' || typeof this.rendered == 'function') {\n      const rended = (this.config.rendered || this.rendered)\n      if (_props) _props.rendered = _rendered(this, rended)\n      else {\n        _props = {\n          rendered: _rendered(this, rended)\n        }\n      }\n    }\n    _props.leave = this.leave || this.config.leave || (this.config.props && this.config.props.leave)\n    this.config.props = _props || {}\n\n    if (typeof id == 'string' || typeof id == 'object') {\n      if (this.isClient && !isReactNative) {\n        this.config.container = id\n        return browserRender(id, X, this.config)\n      }\n    }\n\n    _props = _props || {}\n    return <X {..._props} />\n  }\n}\n\nexport function createCombinClass(rctCls, acts, config, exts) {\n  const globalName = uniqueId('Combinex_')\n  instanceCollection[globalName] = new CombineClass(config, rctCls, acts, exts, globalName)\n  return instanceCollection[globalName]\n}"]}